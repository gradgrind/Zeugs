<!-- A teacher can change his/her password -->
{% extends "base.html" %}
{% set uplink = url_for('bp_settings.index') %}
{% set uplink_help = "Einstellungen" %}

{% block title %}
    Passwort ändern
{% endblock %}

{% block content %}
    <p>Es kann entweder ein Passwort oder eine Passphrase benutzt werden.</p>
    <p>Ein <strong>Passwort</strong> muss folgende Kriterien erfüllen:</p>
    <ul>
        <li>{{ pwdata.pw_length }}</li>
      {% for chk in pwdata.pw_chars %}
        <li>{{ chk[2] }}</li>
      {% endfor %}
    </ul>
    <p>Eine <strong>Passphrase</strong> muss folgende Kriterien erfüllen:</p>
    <ul>
        <li>{{ pwdata.pp_words }}</li>
        <li>{{ pwdata.pp_length }}</li>
        <li>{{ pwdata.pp_psc }}</li>
    </ul>

    <hr>

    <p>Geben Sie das neue Passwort bzw. die Passphrase zweimal ein, um Fehler zu vermeiden.
    </p>
    <form class="pure-form pure-form-aligned" method="POST">
        {{ form.csrf_token }}

        <fieldset>
            <div class="pure-control-group">
                <label for="pwd1">Neues Passwort:</label>
                <input type="password" id="pwd1" name="pwd1">
            </div>
            <div class="pure-control-group">
                <label for="pwd2">Wiederholung:</label>
                <input type="password" id="pwd2" name="pwd2">
            </div>

            <p>Geben Sie auch Ihr aktuelles Passwort (bzw. Ihre Passphrase)
                zur Sicherheit ein:
            </p>
            <div class="pure-control-group">
                <label for="{{ form.PASSWORD.id }}">Altes Passwort:</label>
                {{ form.PASSWORD }}
                {% for error in form.PASSWORD.errors %}
                <span>[{{ error }}]</span>
                {% endfor %}
            </div>

        <button type="submit" class="pure-button submit-button"
                style="margin: 0.5rem 1rem;">
            Passwort Ändern
        </button>
    </form>
{% endblock %}
