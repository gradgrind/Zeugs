<!DOCTYPE html>
{% set schoolname = "Freie Michaelschule" %}
<html lang="de">
  <head>
    <meta charset="utf-8">
    <title>Notenzeugnis SI {{klass.name}}</title>
    <style>
        @font-face {
            font-family: ZeugsFont;
            src: url(../fonts/DroidSans.ttf);
            font-weight: normal;
            font-style: normal;
        }
        body {
            margin: 0;
            font-family: ZeugsFont;
            font-size: 12pt;
/*            color: #0019E6; */
        }
        @page {
            size: A4;
            margin: 10mm 20mm 10mm 20mm;
        }

        .frontpage {
            width: 17cm;
            height: 27cm;
/*            border-style: solid;
            border-color: red; ... for testing */

            background: url(../Logo-Bild-grey.svg);
            background-size: 3cm auto;
            background-repeat: no-repeat;
/* TWEAK */
            background-position: 0 1mm;
        }
        .backpage {
            width: 17cm;
            height: 25cm;
/*            border-style: solid;
            border-color: green; ... for testing */
        }

        h1 {
            font-size: 18pt;
            font-weight: normal;
            width: inherit;
            margin: 0;
            text-align: center;
        }

        .underline {
            border-bottom: 0.5pt solid;
        }

        .subjects {
            /* width: 170mm; */
            margin: 0 auto;
            font-size: 11pt;
            border-collapse: separate;
            border-spacing: 2mm 3mm;
        }
        .subjects td {
            height: 10mm;
            width: 33mm;
        }
        .sbj1 {
            padding: 0 3mm 0 0;
        }
        .sbj2 {
            padding: 0 3mm 0 10mm;
        }
        .grade {
            background-color: #eee;
            font-style: italic;
            padding: 0 3mm;
        }
        .signbox {
            display: inline-block;
            width: 54mm;
        }
        .signbox p {
            font-size: 80%;
            font-style: italic;
            text-align: center;
            margin: 20mm 0 5mm 0;
            padding: 1mm 1mm;
            border-top: 0.5pt solid;
        }
         /* die Zellen der Tabelle der Notenstufen */
        .noten {
            font-size: 10pt;
            font-style: italic;
            border: 0.5pt solid #999999;
            width: 100%;
            text-align: left;
        }
    </style>
  </head>

  <body>
    {% for pupil in pupils %}
    {% set grades = pupil.grades %}
<!--        <div class="underline"
                style="margin: 0 20mm; padding-top: 7mm;
                        display: flex; justify-content: center;"> -->
<!-- If no background logo: remove margin-left, padding -->
        <div class="underline"
                style="margin: 0;
                        display: flex; justify-content: center;">
            <h1>{{schoolname.upper()}}</h1>
        </div>
        <center style="font-size: 200%; margin: 12mm 0 0 0;">
            Orientierungsnoten *
        </center>
        <center style="font-size: 133%; margin: 2mm 0 0 0;">
            Maßstab {{STREAM(pupil.STREAM)}}
        </center>

        <!-- Block für Klasse und Schülerdaten -->
        <div class="underline" style="margin: 8mm 10mm 0 10mm;
                display: flex; justify-content: center;">
            <div style="width: 105mm;">
                für <strong>{{pupil.FIRSTNAMES}} {{pupil.LASTNAME}}</strong>
            </div>
            <div>
                Klasse: {{klass.name}}
            </div>
        </div>

        <!-- Fächer-Tabelle (Noten der Hauptfächer) -->
        {% set EMPTY = '––––––––––' %}
        <table class="subjects" style="margin-top: 5mm;">
        {% for i in range(8) %}
            <tr>
            {% set sg = grades.GET('S') %}
            {% if sg %}{% set s, g = sg %}
            {% else %}{% set s, g = EMPTY, EMPTY %}
            {% endif %}
                <td class="sbj1">{{ s }}</td>
                <td class="grade">{{ g }}</td>
            {% set sg = grades.GET('S') %}
            {% if sg %}{% set s, g = sg %}
            {% else %}{% set s, g = EMPTY, EMPTY %}
            {% endif %}
                <td class="sbj1">{{ s }}</td>
                <td class="grade">{{ g }}</td>
            </tr>
        {% endfor %}
        </table>

        <p style="margin: 2mm 0 -2mm 0; font-size: 11pt;">
            <strong>Künstlerisch-Praktische Kurse:</strong>
        </p>
        <table class="subjects">
        {% for i in range(3) %}
            <tr>
            {% set sg = grades.GET('K') %}
            {% if sg %}{% set s, g = sg %}
            {% else %}{% set s, g = EMPTY, EMPTY %}
            {% endif %}
                <td class="sbj1">{{ s }}</td>
                <td class="grade">{{ g }}</td>
            {% set sg = grades.GET('K') %}
            {% if sg %}{% set s, g = sg %}
            {% else %}{% set s, g = EMPTY, EMPTY %}
            {% endif %}
                <td class="sbj1">{{ s }}</td>
                <td class="grade">{{ g }}</td>
            </tr>
        {% endfor %}
        </table>

        <p style="margin-top: 2mm; font-size: 11pt;">
            * Diese Noten dienen nur der Orientierung und sind nicht
            einklagbar. Bei Fragen wenden Sie sich bitte an die Fachlehrkraft.
        </p>

        <div style="margin-top: 5mm;
                display: flex; justify-content: space-between;">
            <!-- Ort, Datum -->
            <p style="margin: 0; font-size: 11pt;">
                Hannover, den {{todate(pupil.date_D)}}
            </p>

            <!-- Unterschrift -->
            <div class="signbox">
                <p>Klassenbetreuer/in</p>
            </div>
        </div>

        <!-- Notenstufen -->
        <div style="width: 100%; border-top: 0.5pt solid black;
                padding-top: 2mm;">
            <table style="border-collapse: collapse;
                    table-layout: fixed; width:100%">
                <tr>
                    <td style="font-size: 11pt; font-style: italic;">
                        Notenstufen:
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="noten">1: sehr gut</td>
                    <td class="noten">2: gut</td>
                    <td class="noten">3: befriedigend</td>
                    <td class="noten">4: ausreichend</td>
                    <td class="noten">5: mangelhaft</td>
                    <td class="noten">6: ungenügend</td>
                </tr>
            </table>
        </div>
    </div>
    {% endfor %}
  </body>
</html>
