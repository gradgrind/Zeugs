{% extends "base.html" %}

{% block title %}Mantelbogen{% endblock %}

{% block sidepanel %}
  <div class="pure-menu-heading sidemenu-heading">Klasse:</div>
  <div class="pure-menu sidemenu">
    <ul class="pure-menu-list">
      {% for k in klasses %}
      <li class="pure-menu-item"><a href="{{url_for('bp_text_cover.klassview', klass=k)}}" class="pure-menu-link">{{k}}</a></li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}

{% block content %}
    <h3>Klasse {{klass}}</h3>
    <p>Mantelbögen werden für alle markierten Schüler erstellt. Klicken Sie
    auf das entsprechende Kontrollkästchen, um die Markierung für einen Schüler
    zu entfernen – oder wiederherzustellen.
    </p>
    <p>Sie können das Ausgabedatum der Bögen ändern. Um die
    Bögen dann zu erstellen, klicken Sie auf die Schaltfläche „Erstellen“.
    </p>
    <p>Wenn Sie auf einen Schülernamen klicken, gelangen Sie zu einer Seite
    mit den Details dieses Schülers. Dort können Sie einen Einzelbogen –
    gegebenfalls mit Änderungen – erstellen.
    </p>
    <p><strong>Warnung:</strong> Änderungen, die hier vorgenommen werden,
    werden nicht permanent übernommen. Sie gelten nur für den aktuellen
    Vorgang.</p>

    <form id="dataform" class="pure-form" method="POST">
        {{ form.csrf_token }}

        <div class="pure-control-group form-group">
            {{ form.DATE_D.label }}{{ form.DATE_D }}
                {% for error in form.DATE_D.errors %}
                <span>[{{ error }}]</span>
                {% endfor %}
        </div>

        <div class="formsubmit">
            <button type="submit" class="pure-button pure-button-primary">Erstellen</button>
        </div>
        <hr />

        {% for pid, pname in pupils %}
        <div class="form-group">
            <input name="Pupil" type="checkbox" value="{{pid}}" checked>
            <a href="{{url_for('bp_text_cover.pupilview', klass=klass, pid=pid)}}"
                class="pure-menu-link">{{pname}}</a>
        </div>
        {% endfor %}
    </form>
{% endblock %}
